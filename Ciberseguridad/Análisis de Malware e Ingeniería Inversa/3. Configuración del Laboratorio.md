# Configuración del Entorno Virtual

## Requisitos del Sistema Host

- **Sistema Operativo**: Windows 10/11 o Linux
- **RAM**: Mínimo 8GB, recomendado 16GB
- **Espacio en disco**: Mínimo 100GB libres
- **Procesador**: Soporte para virtualización (VT-x/AMD-V)

## Configuración de VMware/VirtualBox

**Configuración Recomendada para VM de Análisis**:

```
Sistema Operativo: Windows 10/11
RAM: 4GB
Disco Duro: 60GB
Procesador: 2 cores
Red: NAT o Host-Only
```

## Pasos de Configuración

1. **Crear nueva VM**:
    - Seleccionar Windows 10/11
    - Asignar recursos según especificaciones
    - Configurar red como NAT inicialmente
2. **Instalar Sistema Operativo**:
    - Usar ISO de Windows 10/11
    - Crear usuario administrador
    - Instalar VMware Tools o VirtualBox Guest Additions
3. **Configuración de Red**:
    - Configurar adaptador en modo "Host-Only"
    - Esto permite aislamiento del internet
    - Configurar IP estática si es necesario
4. **Creación de Snapshots**:
    - Crear snapshot "Base Clean" después de instalación
    - Crear snapshot "Tools Installed" después de instalar herramientas
    - Usar snapshots para restaurar estado limpio

## Configuración de Windows VM

### Configuraciones de Seguridad

1. **Deshabilitar Windows Defender**:

    ```powershell
    # Ejecutar como administrador
    Set-MpPreference -DisableRealtimeMonitoring $true
    Set-MpPreference -DisableBehaviorMonitoring $true
    Set-MpPreference -DisableIOAVProtection $true
    ```

2. **Configurar Windows Update**:
    - Pausar actualizaciones automáticas
    - Esto evita cambios durante el análisis
3. **Configurar UAC**:
    - Reducir nivel de UAC para facilitar análisis
    - Configurar en Panel de Control > Cuentas de Usuario

### Software Adicional Necesario

- **Navegador**: Chrome/Firefox para análisis web
- **Editores**: Notepad++, HxD (editor hexadecimal)
- **Archivadores**: 7-Zip, WinRAR
- **Runtime**: .NET Framework, Visual C++ Redistributables

## Instalación de Wireshark y Solución de Problemas

### Instalación de Wireshark

1. **Descarga**:
    - Ir a [https://www.wireshark.org/download.html](https://www.wireshark.org/download.html)
    - Descargar versión para Windows x64
2. **Instalación**:
    - Ejecutar instalador como administrador
    - Instalar WinPcap/Npcap cuando se solicite
    - Seleccionar todas las opciones predeterminadas
3. **Configuración Inicial**:
    - Abrir Wireshark
    - Verificar que detecta interfaces de red
    - Configurar filtros básicos

### Problemas Comunes y Soluciones

**Problema 1: No detecta interfaces de red**

```
Solución:
1. Reinstalar Npcap desde https://nmap.org/npcap/
2. Ejecutar como administrador
3. Reiniciar sistema
4. Verificar servicios de Npcap en services.msc
```

**Problema 2: Permisos insuficientes**

```
Solución:
1. Ejecutar Wireshark como administrador
2. Agregar usuario al grupo "Administrators"
3. Configurar permisos en directorio de instalación
```

**Problema 3: Interfaz no muestra tráfico**

```
Solución:
1. Verificar que la interfaz esté activa
2. Comprobar filtros aplicados
3. Generar tráfico de prueba (ping)
4. Verificar configuración de firewall
```

## Instalación de Herramientas de Análisis Estático

### Herramientas Básicas

1. **PEiD**: Detección de packers
2. **Strings**: Extracción de cadenas
3. **Hex Editor**: Análisis hexadecimal
4. **Resource Hacker**: Análisis de recursos
5. **Dependency Walker**: Análisis de DLLs

### Herramientas Avanzadas

1. **IDA Free**: Desensamblador
2. **Ghidra**: Herramienta de ingeniería inversa de NSA
3. **x64dbg**: Depurador
4. **PE-bear**: Análisis de PE
5. **YARA**: Motor de detección de malware